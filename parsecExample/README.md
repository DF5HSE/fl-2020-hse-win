# Prolog parser with `parsec`

Что-то было взято из [`отсюда`](https://github.com/kajigor/fl-2020-hse-win/tree/L06/parsecExample), но AST заметно изменен (особенно atom). Были реализованы все особенности, кроме списков.

* `stack build` -- сборка
* `stack run main <filename>`, `stack run -- main <filename>`, `stack run -- main --prog <filename>` -- парсит файл с названием `<filename>` как программу целиком
* `stack run main -- main <mode> <filename>`-- парсит файл с названием `<filename>` с помощью отдельного парсера, соответствующего режиму `<mode>`:

  * `--atom` — парсер одинокого атома  
  * `--typeexpr` — парсер одинокого типа (без ключевого слова type, имени и точки в конце)
  * `--type` — парсер определения типа (с ключевым словом type и точкой в конце)
  * `--module` — парсер определения модуля (с ключевым словом module и точкой в конце )
  * `--relation` — парсер для определения отношения (со штопором и точкой в конце)
  * `--prog` или без ключа — для программы целиком (учитывая опциональность каждой из компонент)

В файле `test.mod` написана корректная программа с корректными примерами, взятыми из исходного репозитория и не только. `stack test` запускать не стоит, т.к. тесты были сделаны для друго AST.
